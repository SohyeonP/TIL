# Redis

구분: DB, Server, WEB
난이도: 어려움   
링크: https://medium.com/@jyejye9201/%EB%A0%88%EB%94%94%EC%8A%A4-redis-%EB%9E%80-%EB%AC%B4%EC%97%87%EC%9D%B8%EA%B0%80-2b7af75fa818

## Redis를 알아야 하기 전에

---

**웹 캐시를 알아야 한다.** 

### 웹캐시(WEB Cache)

사용자(client) 가 웹사이트(server)에 접속할 때,정적 컨텐츠(이미지,JS,CSS 등)를 특정 위치에 저장하여 ,웹사이트 서버에 해당컨첸츠를 매번 요청하여 받는것이 아니라,특정위치에서 불러움으로써 사이트 응답시간을 줄이고,서버 트래픽 감소효과를 냄 ←(나중에 더 자세한 내용으로 정리 하자)

위같은 경우 사용자가 많아지면  DB에 무리가 가기 때문에 DB혼자서 감당하기에는 굉장히 감당이될수 밖에 없다.

 그래서 이런경우 캐시가 DB 를 효율적으로 사용할수 있게 같은 요청인경우 캐시서버에서 값을 바로 결과로 반환 해준다. ⇒곧 DB의 부하를 줄일수 있음 이런걸 Cache Hit 라고 함

대부분 위와 같은 방식으로 캐시를 사용하기 때문에  정적인 파일( 위에서 언급한 이미지 같은) 것들 CDN 이 동일한 기능이다.

클라이언트가 뭔가 작성하여 서버의 DB에 요청하는 경우가 발생하면 일단 캐시에 데이터를 쓰고 결과를 리턴 한다. 그리고 원래 DB에서 캐시에 있는 데이터를 가져와서 작업을 수행하고 결과를 DB에 쓰게된다.  그렇게 DB가 순차적으로 실행(Transaction)하게 된다. 

하지만 캐시의 단점이 있는데 캐시는 속도 때문에 메모를 사용하기 때문에 서버에 장애가 나면 메모리가 날라가서데이터가 손실 가능성이있다. 그렇기 때문에 서버에 대한 비용이 많이 든다.

그런부분을 효율적으로 사용하기 위해 사용하는것이 **Redis** 이다 

## Redis

---

Key -Value기반의 in-Memory 데이터 저장소  키-값 기반이기 때문에 쿼리를 따로 할 필요없이 결과를 바로 가져올수 있다. 디스크에 데이터를 쓰는 구조가 아니라 메모리에서 데이터를 처리하기 떄문에 속도가 상당히 빠름

### Redis에서 제공하는 데이터(Collection)구조

---

- String:단순 key-value 구조
- Lists :Array 형식의 데이터 구조, 처음과 끝에 데이터를 삽입할때는 빠름 하지만 중간 데이터를 삽입할때는 어려움
- Sets 순서가 없는 String 데이터 집합 Sets에서는 중복된 데이터는 하나로 처리
- Sorted Sets 위의 Sets와 같은 구조이지만,Score를 통해서 순서를 정할수 있음. Leadervboard 손쉽게 구현 가능
- Hashes key-value의 구조를 가진 여러 objext 타입을 저장하기 좋음

[https://redis.io/](https://redis.io/)